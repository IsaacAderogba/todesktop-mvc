(()=>{"use strict";var t={424:(t,e,i)=>{i.d(e,{Z:()=>a});var o=i(81),n=i.n(o),s=i(645),r=i.n(s)()(n());r.push([t.id,"html {\n  -webkit-app-region: drag;\n  min-height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\nbody {\n  width: 100%;\n  max-width: 100%;\n}\n",""]);const a=r},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",o=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),o&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),o&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,o,n,s){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(o)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(r[l]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);o&&r[d[0]]||(void 0!==s&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=s),i&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=i):d[2]=i),n&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=n):d[4]="".concat(n)),e.push(d))}},e}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var e=[];function i(t){for(var i=-1,o=0;o<e.length;o++)if(e[o].identifier===t){i=o;break}return i}function o(t,o){for(var s={},r=[],a=0;a<t.length;a++){var l=t[a],c=o.base?l[0]+o.base:l[0],d=s[c]||0,h="".concat(c," ").concat(d);s[c]=d+1;var m=i(h),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==m)e[m].references++,e[m].updater(u);else{var p=n(u,o);o.byIndex=a,e.splice(a,0,{identifier:h,updater:p,references:1})}r.push(h)}return r}function n(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,n){var s=o(t=t||[],n=n||{});return function(t){t=t||[];for(var r=0;r<s.length;r++){var a=i(s[r]);e[a].references--}for(var l=o(t,n),c=0;c<s.length;c++){var d=i(s[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}s=l}}},569:t=>{var e={};t.exports=function(t,i){var o=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(i)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,i)=>{t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var o="";i.supports&&(o+="@supports (".concat(i.supports,") {")),i.media&&(o+="@media ".concat(i.media," {"));var n=void 0!==i.layer;n&&(o+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),o+=i.css,n&&(o+="}"),i.media&&(o+="}"),i.supports&&(o+="}");var s=i.sourceMap;s&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function i(o){var n=e[o];if(void 0!==n)return n.exports;var s=e[o]={id:o,exports:{}};return t[o](s,s.exports,i),s.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t=i(379),e=i.n(t),o=i(795),n=i.n(o),s=i(569),r=i.n(s),a=i(565),l=i.n(a),c=i(216),d=i.n(c),h=i(589),m=i.n(h),u=i(424),p={};p.styleTagTransform=m(),p.setAttributes=l(),p.insert=r().bind(null,"head"),p.domAPI=n(),p.insertStyleElement=d(),e()(u.Z,p),u.Z&&u.Z.locals&&u.Z.locals;const v={};function f(t,e){return(e||document).querySelector(t)}function g(t,e,i,o){t.addEventListener(e,i,!!o)}function b(t,e,i,o,n){g(t,i,(i=>{const n=i.target,s=t.querySelectorAll(e);let r=s.length;for(;r--;)if(s[r]===n){o.call(n,i);break}}),!!n)}const y=t=>parseInt(t.parentNode.dataset.id||t.parentNode.parentNode.dataset.id,10),w=new class{constructor(t,e){const i=window.localStorage;let o;this.getLocalStorage=()=>o||JSON.parse(i.getItem(t)||"[]"),this.setLocalStorage=e=>{i.setItem(t,JSON.stringify(o=e))},e&&e()}find(t,e){let i;e(this.getLocalStorage().filter((e=>{for(i in t)if(t[i]!==e[i])return!1;return!0})))}update(t,e){const i=t.id,o=this.getLocalStorage();let n,s=o.length;for(;s--;)if(o[s].id===i){for(n in t)o[s][n]=t[n];break}this.setLocalStorage(o),e&&e()}insert(t,e){const i=this.getLocalStorage();i.push(t),this.setLocalStorage(i),e&&e()}remove(t,e){let i;const o=this.getLocalStorage().filter((e=>{for(i in t)if(t[i]!==e[i])return!0;return!1}));this.setLocalStorage(o),e&&e(o)}count(t){this.find(v,(e=>{const i=e.length;let o=i,n=0;for(;o--;)n+=e[o].completed;t(i,i-n,n)}))}}("todos-vanilla-es6"),I=new class{itemList(t){return t.reduce(((t,e)=>{return t+`\n<li data-id="${e.id}"${e.completed?' class="completed"':""}>\n\t<div class="view">\n\t\t<input class="toggle" type="checkbox" ${e.completed?"checked":""}>\n\t\t<label>${i=e.title,i.replace(/[&<]/g,(t=>"&"===t?"&amp;":"&lt;"))}</label>\n\t\t<button class="destroy"></button>\n\t</div>\n</li>`;var i}),"")}itemCounter(t){return`${t} item${1!==t?"s":""} left`}},C=new class{constructor(t){this.template=t,this.$todoList=f(".todo-list"),this.$todoItemCounter=f(".todo-count"),this.$clearCompleted=f(".clear-completed"),this.$main=f(".main"),this.$toggleAll=f(".toggle-all"),this.$newTodo=f(".new-todo"),b(this.$todoList,"li label","dblclick",(({target:t})=>{this.editItem(t)}))}editItem(t){const e=t.parentElement.parentElement;e.classList.add("editing");const i=document.createElement("input");i.className="edit",i.value=t.innerText,e.appendChild(i),i.focus()}showItems(t){this.$todoList.innerHTML=this.template.itemList(t)}removeItem(t){const e=f(`[data-id="${t}"]`);e&&this.$todoList.removeChild(e)}setItemsLeft(t){this.$todoItemCounter.innerHTML=this.template.itemCounter(t)}setClearCompletedButtonVisibility(t){this.$clearCompleted.style.display=t?"block":"none"}setMainVisibility(t){this.$main.style.display=t?"block":"none"}setCompleteAllCheckbox(t){this.$toggleAll.checked=!!t}updateFilterButtons(t){f(".filters .selected").className="",f(`.filters [href="#/${t}"]`).className="selected"}clearNewTodo(){this.$newTodo.value=""}setItemComplete(t,e){const i=f(`[data-id="${t}"]`);i&&(i.className=e?"completed":"",f("input",i).checked=e)}editItemDone(t,e){const i=f(`[data-id="${t}"]`),o=f("input.edit",i);i.removeChild(o),i.classList.remove("editing"),f("label",i).textContent=e}bindAddItem(t){g(this.$newTodo,"change",(({target:e})=>{const i=e.value.trim();i&&t(i)}))}bindRemoveCompleted(t){g(this.$clearCompleted,"click",t)}bindToggleAll(t){g(this.$toggleAll,"click",(({target:e})=>{t(e.checked)}))}bindRemoveItem(t){b(this.$todoList,".destroy","click",(({target:e})=>{t(y(e))}))}bindToggleItem(t){b(this.$todoList,".toggle","click",(({target:e})=>{t(y(e),e.checked)}))}bindEditItemSave(t){b(this.$todoList,"li .edit","blur",(({target:e})=>{e.dataset.iscanceled||t(y(e),e.value.trim())}),!0),b(this.$todoList,"li .edit","keypress",(({target:t,keyCode:e})=>{13===e&&t.blur()}))}bindEditItemCancel(t){b(this.$todoList,"li .edit","keyup",(({target:e,keyCode:i})=>{27===i&&(e.dataset.iscanceled=!0,e.blur(),t(y(e)))}))}}(I),$=new class{constructor(t,e){this.store=t,this.view=e,e.bindAddItem(this.addItem.bind(this)),e.bindEditItemSave(this.editItemSave.bind(this)),e.bindEditItemCancel(this.editItemCancel.bind(this)),e.bindRemoveItem(this.removeItem.bind(this)),e.bindToggleItem(((t,e)=>{this.toggleCompleted(t,e),this._filter()})),e.bindRemoveCompleted(this.removeCompletedItems.bind(this)),e.bindToggleAll(this.toggleAll.bind(this)),this._activeRoute="",this._lastActiveRoute=null}setView(t){const e=t.replace(/^#\//,"");this._activeRoute=e,this._filter(),this.view.updateFilterButtons(e)}addItem(t){this.store.insert({id:Date.now(),title:t,completed:!1},(()=>{this.view.clearNewTodo(),this._filter(!0)}))}editItemSave(t,e){e.length?this.store.update({id:t,title:e},(()=>{this.view.editItemDone(t,e)})):this.removeItem(t)}editItemCancel(t){this.store.find({id:t},(e=>{const i=e[0].title;this.view.editItemDone(t,i)}))}removeItem(t){this.store.remove({id:t},(()=>{this._filter(),this.view.removeItem(t)}))}removeCompletedItems(){this.store.remove({completed:!0},this._filter.bind(this))}toggleCompleted(t,e){this.store.update({id:t,completed:e},(()=>{this.view.setItemComplete(t,e)}))}toggleAll(t){this.store.find({completed:!t},(e=>{for(let{id:i}of e)this.toggleCompleted(i,t)})),this._filter()}_filter(t){const e=this._activeRoute;(t||""!==this._lastActiveRoute||this._lastActiveRoute!==e)&&this.store.find({"":v,active:{completed:!1},completed:{completed:!0}}[e],this.view.showItems.bind(this.view)),this.store.count(((t,e,i)=>{this.view.setItemsLeft(e),this.view.setClearCompletedButtonVisibility(i),this.view.setCompleteAllCheckbox(i===t),this.view.setMainVisibility(t)})),this._lastActiveRoute=e}}(w,C),L=()=>$.setView(document.location.hash);g(window,"load",L),g(window,"hashchange",L)})()})();